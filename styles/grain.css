/**
 * Styles de grain et textures pour l'identité visuelle premium
 */

/* Grain de base - texture subtile */
.grain {
  position: relative;
}

.grain::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.08;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='grainFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23grainFilter)'/%3E%3C/svg%3E");
  background-size: 120px 120px;
  mix-blend-mode: multiply;
}

/* Grain plus prononcé pour les sections hero */
.grain-heavy {
  position: relative;
}

.grain-heavy::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.12;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 600 600' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='heavyGrainFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.95' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23heavyGrainFilter)'/%3E%3C/svg%3E");
  background-size: 100px 100px;
  mix-blend-mode: soft-light;
}

/* Grain subtil pour les cartes et sections */
.grain-subtle {
  position: relative;
}

.grain-subtle::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.05;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 300 300' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='subtleGrainFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23subtleGrainFilter)'/%3E%3C/svg%3E");
  background-size: 140px 140px;
  mix-blend-mode: overlay;
}

/* Texture papier pour les sections de texte */
.texture-paper {
  position: relative;
}

.texture-paper::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='paperFilter'%3E%3CfeTurbulence type='turbulence' baseFrequency='0.04' numOctaves='1' stitchTiles='stitch'/%3E%3CfeColorMatrix values='0 0 0 0 0.8 0 0 0 0 0.8 0 0 0 0 0.8 0 0 0 1 0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23paperFilter)'/%3E%3C/svg%3E");
  background-size: 200px 200px;
  mix-blend-mode: multiply;
}

/* Overlay sombre pour améliorer la lisibilité sur les images */
.overlay-dark {
  position: relative;
}

.overlay-dark::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    135deg,
    rgba(0, 0, 0, 0.4) 0%,
    rgba(0, 0, 0, 0.2) 50%,
    rgba(0, 0, 0, 0.6) 100%
  );
  pointer-events: none;
  z-index: 2;
}

/* Overlay subtil pour les cartes */
.overlay-subtle {
  position: relative;
}

.overlay-subtle::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.1) 0%,
    rgba(0, 0, 0, 0.05) 50%,
    rgba(0, 0, 0, 0.2) 100%
  );
  pointer-events: none;
  z-index: 2;
}

/* Assure que le contenu reste au-dessus des overlays */
.grain > *,
.grain-heavy > *,
.grain-subtle > *,
.texture-paper > *,
.overlay-dark > *,
.overlay-subtle > * {
  position: relative;
  z-index: 10;
}

/* Variantes de couleur pour les grains */
.grain-warm::before {
  background-color: rgba(139, 115, 85, 0.02); /* Ton doré subtil */
}

.grain-cool::before {
  background-color: rgba(107, 114, 128, 0.02); /* Ton gris-bleu subtil */
}

.grain-vintage::before {
  background-color: rgba(120, 80, 60, 0.015); /* Ton sépia subtil */
}

/* Animation subtile du grain (optionnelle) */
@keyframes grainMove {
  0% { background-position: 0px 0px; }
  100% { background-position: 100px 100px; }
}

.grain-animated::before {
  animation: grainMove 60s linear infinite;
}

/* Respect des préférences d'accessibilité */
@media (prefers-reduced-motion: reduce) {
  .grain-animated::before {
    animation: none;
  }
}

/* Désactivation du grain sur les petits écrans si souhaité */
@media (max-width: 480px) {
  .grain-mobile-off::before,
  .grain-heavy-mobile-off::before,
  .grain-subtle-mobile-off::before {
    display: none;
  }
}
